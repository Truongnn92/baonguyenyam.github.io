/*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*//*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*/!function(){function require(e){var t=require.resolve(e),i=require.modules[t];if(!i)throw new Error('failed to require "'+e+'"');return i.exports||(i.exports={},i.call(i.exports,i,i.exports,require.relative(t))),i.exports}require.modules={},require.resolve=function(e){var t=e,i=e+".js",s=e+"/index.js";return require.modules[i]&&i||require.modules[s]&&s||t},require.register=function(e,t){require.modules[e]=t},require.relative=function(e){return function(t){if("."!=t.charAt(0))return require(t);var i=e.split("/"),s=t.split("/");i.pop();for(var n=0;n<s.length;n++){var r=s[n];".."==r?i.pop():"."!=r&&i.push(r)}return require(i.join("/"))}},require.register("compiler.js",function(module,exports,require){function isConstant(e){if(/^ *("([^"\\]*(\\.[^"\\]*)*)"|'([^'\\]*(\\.[^'\\]*)*)'|true|false|null|undefined) *$/i.test(e))return!0;if(!isNaN(Number(e)))return!0;var t;return!!(t=/^ *\[(.*)\] *$/.exec(e))&&t[1].split(",").every(isConstant)}function escape(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var nodes=require("./nodes"),filters=require("./filters"),doctypes=require("./doctypes"),selfClosing=require("./self-closing"),runtime=require("./runtime"),utils=require("./utils");Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});var Compiler=module.exports=function(e,t){this.options=t=t||{},this.node=e,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=t.pretty||!1,this.debug=!1!==t.compileDebug,this.indents=0,this.parentIndents=0,t.doctype&&this.setDoctype(t.doctype)};Compiler.prototype={compile:function(){return this.buf=["var interp;"],this.pp&&this.buf.push("var __indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node),this.buf.join("\n")},setDoctype:function(e){e=e&&e.toLowerCase()||"default",this.doctype=doctypes[e]||"<!DOCTYPE "+e+">",this.terse="<!doctype html>"==this.doctype.toLowerCase(),this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(e,t){t&&(e=utils.escape(e)),this.lastBufferedIdx==this.buf.length?(this.lastBuffered+=e,this.buf[this.lastBufferedIdx-1]="buf.push('"+this.lastBuffered+"');"):(this.buf.push("buf.push('"+e+"');"),this.lastBuffered=e,this.lastBufferedIdx=this.buf.length)},prettyIndent:function(e,t){e=e||0,t=t?"\\n":"",this.buffer(t+Array(this.indents+e).join("  ")),this.parentIndents&&this.buf.push("buf.push.apply(buf, __indent);")},visit:function(e){var t=this.debug;t&&this.buf.push("__jade.unshift({ lineno: "+e.line+", filename: "+(e.filename?JSON.stringify(e.filename):"__jade[0].filename")+" });"),!1===e.debug&&this.debug&&(this.buf.pop(),this.buf.pop()),this.visitNode(e),t&&this.buf.push("__jade.shift();")},visitNode:function(e){return this["visit"+(e.constructor.name||e.constructor.toString().match(/function ([^(\s]+)()/)[1])](e)},visitCase:function(e){var t=this.withinCase;this.withinCase=!0,this.buf.push("switch ("+e.expr+"){"),this.visit(e.block),this.buf.push("}"),this.withinCase=t},visitWhen:function(e){"default"==e.expr?this.buf.push("default:"):this.buf.push("case "+e.expr+":"),this.visit(e.block),this.buf.push("  break;")},visitLiteral:function(e){var t=e.str.replace(/\n/g,"\\\\n");this.buffer(t)},visitBlock:function(e){var t=e.nodes.length,i=this.escape,s=this.pp;if(this.parentIndents&&e.mode)return s&&this.buf.push("__indent.push('"+Array(this.indents+1).join("  ")+"');"),this.buf.push("block && block();"),void(s&&this.buf.push("__indent.pop();"));s&&t>1&&!i&&e.nodes[0].isText&&e.nodes[1].isText&&this.prettyIndent(1,!0);for(var n=0;n<t;++n)s&&n>0&&!i&&e.nodes[n].isText&&e.nodes[n-1].isText&&this.prettyIndent(1,!1),this.visit(e.nodes[n]),e.nodes[n+1]&&e.nodes[n].isText&&e.nodes[n+1].isText&&this.buffer("\\n")},visitDoctype:function(e){e&&(e.val||!this.doctype)&&this.setDoctype(e.val||"default"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(e){var t=e.name.replace(/-/g,"_")+"_mixin",i=e.args||"",s=e.block,n=e.attrs,r=this.pp;if(e.call){if(r&&this.buf.push("__indent.push('"+Array(this.indents+1).join("  ")+"');"),s||n.length){if(this.buf.push(t+".call({"),s){this.buf.push("block: function(){"),this.parentIndents++;var a=this.indents;this.indents=0,this.visit(e.block),this.indents=a,this.parentIndents--,n.length?this.buf.push("},"):this.buf.push("}")}if(n.length){var o=this.attrs(n);o.inherits?this.buf.push("attributes: merge({"+o.buf+"}, attributes), escaped: merge("+o.escaped+", escaped, true)"):this.buf.push("attributes: {"+o.buf+"}, escaped: "+o.escaped)}i?this.buf.push("}, "+i+");"):this.buf.push("});")}else this.buf.push(t+"("+i+");");r&&this.buf.push("__indent.pop();")}else this.buf.push("var "+t+" = function("+i+"){"),this.buf.push("var block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};"),this.parentIndents++,this.visit(s),this.parentIndents--,this.buf.push("};")},visitTag:function(e){this.indents++;var t=e.name,i=this.pp;e.buffer&&(t="' + ("+t+") + '"),this.hasCompiledTag||(!this.hasCompiledDoctype&&"html"==t&&this.visitDoctype(),this.hasCompiledTag=!0),i&&!e.isInline()&&this.prettyIndent(0,!0),!~selfClosing.indexOf(t)&&!e.selfClosing||this.xml?(e.attrs.length?(this.buffer("<"+t),e.attrs.length&&this.visitAttributes(e.attrs),this.buffer(">")):this.buffer("<"+t+">"),e.code&&this.visitCode(e.code),this.escape="pre"==e.name,this.visit(e.block),i&&!e.isInline()&&"pre"!=e.name&&!e.canInline()&&this.prettyIndent(0,!0),this.buffer("</"+t+">")):(this.buffer("<"+t),this.visitAttributes(e.attrs),this.terse?this.buffer(">"):this.buffer("/>")),this.indents--},visitFilter:function(e){var t=filters[e.name];if(!t)throw e.isASTFilter?new Error('unknown ast filter "'+e.name+':"'):new Error('unknown filter ":'+e.name+'"');if(e.isASTFilter)this.buf.push(t(e.block,this,e.attrs));else{var i=e.block.nodes.map(function(e){return e.val}).join("\n");e.attrs=e.attrs||{},e.attrs.filename=this.options.filename,this.buffer(utils.text(t(i,e.attrs)))}},visitText:function(e){e=utils.text(e.val.replace(/\\/g,"_SLASH_")),this.escape&&(e=escape(e)),e=e.replace(/_SLASH_/g,"\\\\"),this.buffer(e)},visitComment:function(e){e.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("\x3c!--"+utils.escape(e.val)+"--\x3e"))},visitBlockComment:function(e){e.buffer&&(0==e.val.trim().indexOf("if")?(this.buffer("\x3c!--["+e.val.trim()+"]>"),this.visit(e.block),this.buffer("<![endif]--\x3e")):(this.buffer("\x3c!--"+e.val),this.visit(e.block),this.buffer("--\x3e")))},visitCode:function(e){if(e.buffer){var t=e.val.trimLeft();this.buf.push("var __val__ = "+t),t='null == __val__ ? "" : __val__',e.escape&&(t="escape("+t+")"),this.buf.push("buf.push("+t+");")}else this.buf.push(e.val);e.block&&(e.buffer||this.buf.push("{"),this.visit(e.block),e.buffer||this.buf.push("}"))},visitEach:function(e){this.buf.push("// iterate "+e.obj+"\n;(function(){\n  if ('number' == typeof "+e.obj+".length) {\n"),e.alternative&&this.buf.push("  if ("+e.obj+".length) {"),this.buf.push("    for (var "+e.key+" = 0, $$l = "+e.obj+".length; "+e.key+" < $$l; "+e.key+"++) {\n      var "+e.val+" = "+e.obj+"["+e.key+"];\n"),this.visit(e.block),this.buf.push("    }\n"),e.alternative&&(this.buf.push("  } else {"),this.visit(e.alternative),this.buf.push("  }")),this.buf.push("  } else {\n    var $$l = 0;\n    for (var "+e.key+" in "+e.obj+") {\n      $$l++;      if ("+e.obj+".hasOwnProperty("+e.key+")){      var "+e.val+" = "+e.obj+"["+e.key+"];\n"),this.visit(e.block),this.buf.push("      }\n"),this.buf.push("    }\n"),e.alternative&&(this.buf.push("    if ($$l === 0) {"),this.visit(e.alternative),this.buf.push("    }")),this.buf.push("  }\n}).call(this);\n")},visitAttributes:function(attrs){var val=this.attrs(attrs);val.inherits?this.buf.push("buf.push(attrs(merge({ "+val.buf+" }, attributes), merge("+val.escaped+", escaped, true)));"):val.constant?(eval("var buf={"+val.buf+"};"),this.buffer(runtime.attrs(buf,JSON.parse(val.escaped)),!0)):this.buf.push("buf.push(attrs({ "+val.buf+" }, "+val.escaped+"));")},attrs:function(e){var t=[],i=[],s={},n=e.every(function(e){return isConstant(e.val)}),r=!1;return this.terse&&t.push("terse: true"),e.forEach(function(e){if("attributes"==e.name)return r=!0;if(s[e.name]=e.escaped,"class"==e.name)i.push("("+e.val+")");else{var n="'"+e.name+"':("+e.val+")";t.push(n)}}),i.length&&(i=i.join(" + ' ' + "),t.push("class: "+i)),{buf:t.join(", ").replace("class:",'"class":'),escaped:JSON.stringify(s),inherits:r,constant:n}}}}),require.register("doctypes.js",function(e,t,i){e.exports={5:"<!DOCTYPE html>",default:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}}),require.register("filters.js",function(e,t,i){e.exports={cdata:function(e){return"<![CDATA[\\n"+e+"\\n]]>"},sass:function(e){return e=e.replace(/\\n/g,"\n"),'<style type="text/css">'+i("sass").render(e).replace(/\n/g,"\\n")+"</style>"},stylus:function(e,t){var s;return e=e.replace(/\\n/g,"\n"),i("stylus")(e,t).render(function(e,t){if(e)throw e;s=t.replace(/\n/g,"\\n")}),'<style type="text/css">'+s+"</style>"},less:function(e){var t;return e=e.replace(/\\n/g,"\n"),i("less").render(e,function(e,i){if(e)throw e;t='<style type="text/css">'+i.replace(/\n/g,"\\n")+"</style>"}),t},markdown:function(e){var t;try{t=i("markdown")}catch(e){try{t=i("discount")}catch(e){try{t=i("markdown-js")}catch(e){try{t=i("marked")}catch(e){throw new Error("Cannot find markdown library, install markdown, discount, or marked.")}}}}return e=e.replace(/\\n/g,"\n"),t.parse(e).replace(/\n/g,"\\n").replace(/'/g,"&#39;")},coffeescript:function(e){return'<script type="text/javascript">\\n'+i("coffee-script").compile(e).replace(/\\/g,"\\\\").replace(/\n/g,"\\n")+"<\/script>"}}}),require.register("inline-tags.js",function(e,t,i){e.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]}),require.register("jade.js",function(e,t,i){function s(e,t){try{var i=new r(e,t.filename,t),s=new(t.compiler||o)(i.parse(),t).compile();return t.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",s.replace(/^/gm,"  ")),"var buf = [];\n"+(t.self?"var self = locals || {};\n"+s:"with (locals || {}) {\n"+s+"\n}\n")+'return buf.join("");'}catch(e){i=i.context(),h.rethrow(e,i.filename,i.lexer.lineno)}}function n(e){return 65279==e.charCodeAt(0)?e.substring(1):e}var r=i("./parser"),a=i("./lexer"),o=i("./compiler"),h=i("./runtime");t.version="0.27.6",t.selfClosing=i("./self-closing"),t.doctypes=i("./doctypes"),t.filters=i("./filters"),t.utils=i("./utils"),t.Compiler=o,t.Parser=r,t.Lexer=a,t.nodes=i("./nodes"),t.runtime=h,t.cache={},t.compile=function(e,t){var i,r=(t=t||{}).client,a=t.filename?JSON.stringify(t.filename):"undefined";return e=n(String(e)),i=!1!==t.compileDebug?["var __jade = [{ lineno: 1, filename: "+a+" }];","try {",s(e,t),"} catch (err) {","  rethrow(err, __jade[0].filename, __jade[0].lineno);","}"].join("\n"):s(e,t),r&&(i="attrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\n"+i),i=new Function("locals, attrs, escape, rethrow, merge",i),r?i:function(e){return i(e,h.attrs,h.escape,h.rethrow,h.merge)}},t.render=function(e,i,s){if("function"==typeof i&&(s=i,i={}),i.cache&&!i.filename)return s(new Error('the "filename" option is required for caching'));try{var n=i.filename,r=i.cache?t.cache[n]||(t.cache[n]=t.compile(e,i)):t.compile(e,i);s(null,r(i))}catch(e){s(e)}},t.renderFile=function(e,i,s){var n=e+":string";"function"==typeof i&&(s=i,i={});try{i.filename=e;var r=i.cache?t.cache[n]||(t.cache[n]=fs.readFileSync(e,"utf8")):fs.readFileSync(e,"utf8");t.render(r,i,s)}catch(e){s(e)}},t.__express=t.renderFile}),require.register("lexer.js",function(e,t,i){i("./utils");(e.exports=function(e,t){t=t||{},this.input=e.replace(/\r\n|\r/g,"\n"),this.colons=t.colons,this.deferredTokens=[],this.lastIndents=0,this.lineno=1,this.stash=[],this.indentStack=[],this.indentRe=null,this.pipeless=!1}).prototype={tok:function(e,t){return{type:e,line:this.lineno,val:t}},consume:function(e){this.input=this.input.substr(e)},scan:function(e,t){var i;if(i=e.exec(this.input))return this.consume(i[0].length),this.tok(t,i[1])},defer:function(e){this.deferredTokens.push(e)},lookahead:function(e){for(var t=e-this.stash.length;t-- >0;)this.stash.push(this.next());return this.stash[--e]},indexOfDelimiters:function(e,t){for(var i=this.input,s=0,n=0,r=0,a=0,o=i.length;a<o;++a)if(e==i.charAt(a))++s;else if(t==i.charAt(a)&&++n==s){r=a;break}return r},stashed:function(){return this.stash.length&&this.stash.shift()},deferred:function(){return this.deferredTokens.length&&this.deferredTokens.shift()},eos:function(){if(!this.input.length)return this.indentStack.length?(this.indentStack.shift(),this.tok("outdent")):this.tok("eos")},blank:function(){var e;if(e=/^\n *\n/.exec(this.input))return this.consume(e[0].length-1),++this.lineno,this.pipeless?this.tok("text",""):this.next()},comment:function(){var e;if(e=/^ *\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("comment",e[2]);return t.buffer="-"!=e[1],t}},interpolation:function(){var e;if(e=/^#\{(.*?)\}/.exec(this.input))return this.consume(e[0].length),this.tok("interpolation",e[1])},tag:function(){var e;if(e=/^(\w[-:\w]*)(\/?)/.exec(this.input)){this.consume(e[0].length);var t,i=e[1];if(":"==i[i.length-1])for(i=i.slice(0,-1),t=this.tok("tag",i),this.defer(this.tok(":"));" "==this.input[0];)this.input=this.input.substr(1);else t=this.tok("tag",i);return t.selfClosing=!!e[2],t}},filter:function(){return this.scan(/^:(\w+)/,"filter")},doctype:function(){return this.scan(/^(?:!!!|doctype) *([^\n]+)?/,"doctype")},id:function(){return this.scan(/^#([\w-]+)/,"id")},className:function(){return this.scan(/^\.([\w-]+)/,"class")},text:function(){return this.scan(/^(?:\| ?| ?)?([^\n]+)/,"text")},extends:function(){return this.scan(/^extends? +([^\n]+)/,"extends")},prepend:function(){var e;if(e=/^prepend +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1],i=this.tok("block",t);return i.mode="prepend",i}},append:function(){var e;if(e=/^append +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1],i=this.tok("block",t);return i.mode="append",i}},block:function(){var e;if(e=/^block\b *(?:(prepend|append) +)?([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=e[1]||"replace",i=e[2],s=this.tok("block",i);return s.mode=t,s}},yield:function(){return this.scan(/^yield */,"yield")},include:function(){return this.scan(/^include +([^\n]+)/,"include")},case:function(){return this.scan(/^case +([^\n]+)/,"case")},when:function(){return this.scan(/^when +([^:\n]+)/,"when")},default:function(){return this.scan(/^default */,"default")},assignment:function(){var e;if(e=/^(\w+) += *([^;\n]+)( *;? *)/.exec(this.input)){this.consume(e[0].length);var t=e[1],i=e[2];return this.tok("code","var "+t+" = ("+i+");")}},call:function(){var e;if(e=/^\+([-\w]+)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("call",e[1]);return(e=/^ *\((.*?)\)/.exec(this.input))&&(/^ *[-\w]+ *=/.test(e[1])||(this.consume(e[0].length),t.args=e[1])),t}},mixin:function(){var e;if(e=/^mixin +([-\w]+)(?: *\((.*)\))?/.exec(this.input)){this.consume(e[0].length);var t=this.tok("mixin",e[1]);return t.args=e[2],t}},conditional:function(){var e;if(e=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=e[1],i=e[2];switch(t){case"if":i="if ("+i+")";break;case"unless":i="if (!("+i+"))";break;case"else if":i="else if ("+i+")";break;case"else":i="else"}return this.tok("code",i)}},while:function(){var e;if(e=/^while +([^\n]+)/.exec(this.input))return this.consume(e[0].length),this.tok("code","while ("+e[1]+")")},each:function(){var e;if(e=/^(?:- *)?(?:each|for) +(\w+)(?: *, *(\w+))? * in *([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("each",e[1]);return t.key=e[2]||"$index",t.code=e[3],t}},code:function(){var e;if(e=/^(!?=|-)([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1];e[1]=e[2];var i=this.tok("code",e[1]);return i.escape="="===t.charAt(0),i.buffer="="===t.charAt(0)||"="===t.charAt(1),i}},attrs:function(){function e(){return l[l.length-1]}function t(e){return e.replace(/(\\)?#\{([^}]+)\}/g,function(e,t,i){return t?e:n+" + ("+i+") + "+n})}function i(i){var a=i;switch(u&&":"==i&&(i="="),i){case",":case"\n":switch(e()){case"expr":case"array":case"string":case"object":f+=i;break;default:if(l.push("key"),f=f.trim(),""==(p=p.trim()))return;p=p.replace(/^['"]|['"]$/g,"").replace("!",""),h.escaped[p]=s,h.attrs[p]=""==f||t(f),p=f=""}break;case"=":switch(e()){case"key char":p+=a;break;case"val":case"expr":case"array":case"string":case"object":f+=a;break;default:s="!"!=r,l.push("val")}break;case"(":("val"==e()||"expr"==e())&&l.push("expr"),f+=i;break;case")":("expr"==e()||"val"==e())&&l.pop(),f+=i;break;case"{":"val"==e()&&l.push("object"),f+=i;break;case"}":"object"==e()&&l.pop(),f+=i;break;case"[":"val"==e()&&l.push("array"),f+=i;break;case"]":"array"==e()&&l.pop(),f+=i;break;case'"':case"'":switch(e()){case"key":l.push("key char");break;case"key char":l.pop();break;case"string":i==n&&l.pop(),f+=i;break;default:l.push("string"),f+=i,n=i}break;case"":break;default:switch(e()){case"key":case"key char":p+=i;break;default:f+=i}}r=i}if("("==this.input.charAt(0)){var s,n,r,a=this.indexOfDelimiters("(",")"),o=this.input.substr(1,a-1),h=this.tok("attrs"),c=o.length,u=this.colons,l=["key"],p="",f="";this.consume(a+1),h.attrs={},h.escaped={};for(var d=0;d<c;++d)i(o.charAt(d));return i(","),"/"==this.input.charAt(0)&&(this.consume(1),h.selfClosing=!0),h}},indent:function(){var e,t;if(this.indentRe?e=this.indentRe.exec(this.input):(t=/^\n(\t*) */,(e=t.exec(this.input))&&!e[1].length&&(t=/^\n( *)/,e=t.exec(this.input)),e&&e[1].length&&(this.indentRe=t)),e){var i,s=e[1].length;if(++this.lineno,this.consume(s+1)," "==this.input[0]||"    "==this.input[0])throw new Error("Invalid indentation, you can use tabs or spaces but not both");if("\n"==this.input[0])return this.tok("newline");if(this.indentStack.length&&s<this.indentStack[0]){for(;this.indentStack.length&&this.indentStack[0]>s;)this.stash.push(this.tok("outdent")),this.indentStack.shift();i=this.stash.pop()}else s&&s!=this.indentStack[0]?(this.indentStack.unshift(s),i=this.tok("indent",s)):i=this.tok("newline");return i}},pipelessText:function(){if(this.pipeless){if("\n"==this.input[0])return;var e=this.input.indexOf("\n");-1==e&&(e=this.input.length);var t=this.input.substr(0,e);return this.consume(t.length),this.tok("text",t)}},colon:function(){return this.scan(/^: */,":")},advance:function(){return this.stashed()||this.next()},next:function(){return this.deferred()||this.blank()||this.eos()||this.pipelessText()||this.yield()||this.doctype()||this.interpolation()||this.case()||this.when()||this.default()||this.extends()||this.append()||this.prepend()||this.block()||this.include()||this.mixin()||this.call()||this.conditional()||this.each()||this.while()||this.assignment()||this.tag()||this.filter()||this.code()||this.id()||this.className()||this.attrs()||this.indent()||this.comment()||this.colon()||this.text()}}}),require.register("nodes/attrs.js",function(e,t,i){var s=i("./node"),n=(i("./block"),e.exports=function(){this.attrs=[]});n.prototype=new s,n.prototype.constructor=n,n.prototype.setAttribute=function(e,t,i){return this.attrs.push({name:e,val:t,escaped:i}),this},n.prototype.removeAttribute=function(e){for(var t=0,i=this.attrs.length;t<i;++t)this.attrs[t]&&this.attrs[t].name==e&&delete this.attrs[t]},n.prototype.getAttribute=function(e){for(var t=0,i=this.attrs.length;t<i;++t)if(this.attrs[t]&&this.attrs[t].name==e)return this.attrs[t].val}}),require.register("nodes/block-comment.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e,t,i){this.block=t,this.val=e,this.buffer=i};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/block.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e){this.nodes=[],e&&this.push(e)};n.prototype=new s,n.prototype.constructor=n,n.prototype.isBlock=!0,n.prototype.replace=function(e){e.nodes=this.nodes},n.prototype.push=function(e){return this.nodes.push(e)},n.prototype.isEmpty=function(){return 0==this.nodes.length},n.prototype.unshift=function(e){return this.nodes.unshift(e)},n.prototype.includeBlock=function(){for(var e,t=this,i=0,s=this.nodes.length;i<s;++i){if((e=this.nodes[i]).yield)return e;if(!e.textOnly&&(e.includeBlock?t=e.includeBlock():e.block&&!e.block.isEmpty()&&(t=e.block.includeBlock()),t.yield))return t}return t},n.prototype.clone=function(){for(var e=new n,t=0,i=this.nodes.length;t<i;++t)e.push(this.nodes[t].clone());return e}}),require.register("nodes/case.js",function(e,t,i){var s=i("./node"),n=t=e.exports=function(e,t){this.expr=e,this.block=t};n.prototype=new s,n.prototype.constructor=n;var r=t.When=function(e,t){this.expr=e,this.block=t,this.debug=!1};r.prototype=new s,r.prototype.constructor=r}),require.register("nodes/code.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e,t,i){this.val=e,this.buffer=t,this.escape=i,e.match(/^ *else/)&&(this.debug=!1)};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/comment.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e,t){this.val=e,this.buffer=t};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/doctype.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e){this.val=e};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/each.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e,t,i,s){this.obj=e,this.val=t,this.key=i,this.block=s};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/filter.js",function(e,t,i){var s=i("./node"),n=(i("./block"),e.exports=function(e,t,i){this.name=e,this.block=t,this.attrs=i,this.isASTFilter=!t.nodes.every(function(e){return e.isText})});n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/index.js",function(e,t,i){t.Node=i("./node"),t.Tag=i("./tag"),t.Code=i("./code"),t.Each=i("./each"),t.Case=i("./case"),t.Text=i("./text"),t.Block=i("./block"),t.Mixin=i("./mixin"),t.Filter=i("./filter"),t.Comment=i("./comment"),t.Literal=i("./literal"),t.BlockComment=i("./block-comment"),t.Doctype=i("./doctype")}),require.register("nodes/literal.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e){this.str=e.replace(/\\/g,"\\\\").replace(/\n|\r\n/g,"\\n").replace(/'/g,"\\'")};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/mixin.js",function(e,t,i){var s=i("./attrs"),n=e.exports=function(e,t,i,s){this.name=e,this.args=t,this.block=i,this.attrs=[],this.call=s};n.prototype=new s,n.prototype.constructor=n}),require.register("nodes/node.js",function(e,t,i){(e.exports=function(){}).prototype.clone=function(){return this}}),require.register("nodes/tag.js",function(e,t,i){var s=i("./attrs"),n=i("./block"),r=i("../inline-tags"),a=e.exports=function(e,t){this.name=e,this.attrs=[],this.block=t||new n};a.prototype=new s,a.prototype.constructor=a,a.prototype.clone=function(){var e=new a(this.name,this.block.clone());return e.line=this.line,e.attrs=this.attrs,e.textOnly=this.textOnly,e},a.prototype.isInline=function(){return~r.indexOf(this.name)},a.prototype.canInline=function(){function e(t){return t.isBlock?t.nodes.every(e):t.isText||t.isInline&&t.isInline()}var t=this.block.nodes;if(!t.length)return!0;if(1==t.length)return e(t[0]);if(this.block.nodes.every(e)){for(var i=1,s=t.length;i<s;++i)if(t[i-1].isText&&t[i].isText)return!1;return!0}return!1}}),require.register("nodes/text.js",function(e,t,i){var s=i("./node"),n=e.exports=function(e){this.val="","string"==typeof e&&(this.val=e)};n.prototype=new s,n.prototype.constructor=n,n.prototype.isText=!0}),require.register("parser.js",function(e,t,i){var s=i("./lexer"),n=i("./nodes"),r=i("./utils"),a=t=e.exports=function(e,t,i){this.input=e,this.lexer=new s(e,i),this.filename=t,this.blocks={},this.mixins={},this.options=i,this.contexts=[this]},o=t.textOnly=["script","style"];a.prototype={context:function(e){if(!e)return this.contexts.pop();this.contexts.push(e)},advance:function(){return this.lexer.advance()},skip:function(e){for(;e--;)this.advance()},peek:function(){return this.lookahead(1)},line:function(){return this.lexer.lineno},lookahead:function(e){return this.lexer.lookahead(e)},parse:function(){var e,t=new n.Block;for(t.line=this.line();"eos"!=this.peek().type;)"newline"==this.peek().type?this.advance():t.push(this.parseExpr());if(e=this.extending){this.context(e);var i=e.parse();this.context();for(var s in this.mixins)i.unshift(this.mixins[s]);return i}return t},expect:function(e){if(this.peek().type===e)return this.advance();throw new Error('expected "'+e+'", but got "'+this.peek().type+'"')},accept:function(e){if(this.peek().type===e)return this.advance()},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"case":return this.parseCase();case"when":return this.parseWhen();case"default":return this.parseDefault();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":return this.parseText();case"each":return this.parseEach();case"code":return this.parseCode();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":this.advance();var e=new n.Block;return e.yield=!0,e;case"id":case"class":var t=this.advance();return this.lexer.defer(this.lexer.tok("tag","div")),this.lexer.defer(t),this.parseExpr();default:throw new Error('unexpected token "'+this.peek().type+'"')}},parseText:function(){var e=this.expect("text"),t=new n.Text(e.val);return t.line=this.line(),t},parseBlockExpansion:function(){return":"==this.peek().type?(this.advance(),new n.Block(this.parseExpr())):this.block()},parseCase:function(){var e=this.expect("case").val,t=new n.Case(e);return t.line=this.line(),t.block=this.block(),t},parseWhen:function(){var e=this.expect("when").val;return new n.Case.When(e,this.parseBlockExpansion())},parseDefault:function(){return this.expect("default"),new n.Case.When("default",this.parseBlockExpansion())},parseCode:function(){var e=this.expect("code"),t=new n.Code(e.val,e.buffer,e.escape),i=1;for(t.line=this.line();this.lookahead(i)&&"newline"==this.lookahead(i).type;)++i;return"indent"==this.lookahead(i).type&&(this.skip(i-1),t.block=this.block()),t},parseComment:function(){var e,t=this.expect("comment");return e="indent"==this.peek().type?new n.BlockComment(t.val,this.block(),t.buffer):new n.Comment(t.val,t.buffer),e.line=this.line(),e},parseDoctype:function(){var e=this.expect("doctype"),t=new n.Doctype(e.val);return t.line=this.line(),t},parseFilter:function(){var e,t=this.expect("filter"),i=this.accept("attrs");this.lexer.pipeless=!0,e=this.parseTextBlock(),this.lexer.pipeless=!1;var s=new n.Filter(t.val,e,i&&i.attrs);return s.line=this.line(),s},parseASTFilter:function(){var e,t=this.expect("tag"),i=this.accept("attrs");this.expect(":"),e=this.block();var s=new n.Filter(t.val,e,i&&i.attrs);return s.line=this.line(),s},parseEach:function(){var e=this.expect("each"),t=new n.Each(e.code,e.val,e.key);return t.line=this.line(),t.block=this.block(),"code"==this.peek().type&&"else"==this.peek().val&&(this.advance(),t.alternative=this.block()),t},parseExtends:function(){var e=i("path"),t=i("fs"),s=e.dirname,r=(e.basename,e.join);if(!this.filename)throw new Error('the "filename" option is required to extend templates');var e=this.expect("extends").val.trim(),e=r(s(this.filename),e+".jade"),o=t.readFileSync(e,"utf8"),h=new a(o,e,this.options);return h.blocks=this.blocks,h.contexts=this.contexts,this.extending=h,new n.Literal("")},parseBlock:function(){var e=this.expect("block"),t=e.mode,i=e.val.trim();e="indent"==this.peek().type?this.block():new n.Block(new n.Literal(""));var s=this.blocks[i];if(s)switch(s.mode){case"append":e.nodes=e.nodes.concat(s.nodes),s=e;break;case"prepend":e.nodes=s.nodes.concat(e.nodes),s=e}return e.mode=t,this.blocks[i]=s||e},parseInclude:function(){var e=i("path"),t=i("fs"),s=e.dirname,o=e.basename,h=e.join,e=this.expect("include").val.trim(),c=s(this.filename);if(!this.filename)throw new Error('the "filename" option is required to use includes');if(~o(e).indexOf(".")||(e+=".jade"),".jade"!=e.substr(-5)){var e=h(c,e),u=t.readFileSync(e,"utf8");return new n.Literal(u)}var e=h(c,e),u=t.readFileSync(e,"utf8"),l=new a(u,e,this.options);l.blocks=r.merge({},this.blocks),l.mixins=this.mixins,this.context(l);var p=l.parse();return this.context(),p.filename=e,"indent"==this.peek().type&&p.includeBlock().push(this.block()),p},parseCall:function(){var e=this.expect("call"),t=e.val,i=e.args,s=new n.Mixin(t,i,new n.Block,!0);return this.tag(s),s.block.isEmpty()&&(s.block=null),s},parseMixin:function(){var e,t=this.expect("mixin"),i=t.val,s=t.args;return"indent"==this.peek().type?(e=new n.Mixin(i,s,this.block(),!1),this.mixins[i]=e,e):new n.Mixin(i,s,null,!0)},parseTextBlock:function(){var e=new n.Block;e.line=this.line();var t=this.expect("indent").val;null==this._spaces&&(this._spaces=t);for(var i=Array(t-this._spaces+1).join(" ");"outdent"!=this.peek().type;)switch(this.peek().type){case"newline":this.advance();break;case"indent":this.parseTextBlock().nodes.forEach(function(t){e.push(t)});break;default:var s=new n.Text(i+this.advance().val);s.line=this.line(),e.push(s)}return t==this._spaces&&(this._spaces=null),this.expect("outdent"),e},block:function(){var e=new n.Block;for(e.line=this.line(),this.expect("indent");"outdent"!=this.peek().type;)"newline"==this.peek().type?this.advance():e.push(this.parseExpr());return this.expect("outdent"),e},parseInterpolation:function(){var e=this.advance(),t=new n.Tag(e.val);return t.buffer=!0,this.tag(t)},parseTag:function(){var e=2;if("attrs"==this.lookahead(e).type&&++e,":"==this.lookahead(e).type&&"indent"==this.lookahead(++e).type)return this.parseASTFilter();var t=this.advance(),i=new n.Tag(t.val);return i.selfClosing=t.selfClosing,this.tag(i)},tag:function(e){var t;e.line=this.line();e:for(;;)switch(this.peek().type){case"id":case"class":var i=this.advance();e.setAttribute(i.type,"'"+i.val+"'");continue;case"attrs":var s=(i=this.advance()).attrs,r=i.escaped,a=Object.keys(s);i.selfClosing&&(e.selfClosing=!0);for(var h=0,c=a.length;h<c;++h){var u=a[h],l=s[u];e.setAttribute(u,l,r[u])}continue;default:break e}switch("."==this.peek().val&&(t=e.textOnly=!0,this.advance()),this.peek().type){case"text":e.block.push(this.parseText());break;case"code":e.code=this.parseCode();break;case":":this.advance(),e.block=new n.Block,e.block.push(this.parseExpr())}for(;"newline"==this.peek().type;)this.advance();if(e.textOnly=e.textOnly||~o.indexOf(e.name),"script"==e.name){var p=e.getAttribute("type");!t&&p&&"text/javascript"!=p.replace(/^['"]|['"]$/g,"")&&(e.textOnly=!1)}if("indent"==this.peek().type)if(e.textOnly)this.lexer.pipeless=!0,e.block=this.parseTextBlock(),this.lexer.pipeless=!1;else{var f=this.block();if(e.block)for(var h=0,c=f.nodes.length;h<c;++h)e.block.push(f.nodes[h]);else e.block=f}return e}}}),require.register("runtime.js",function(e,t,i){function s(e){return null!=e}Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),t.merge=function(e,t){var i=e.class,n=t.class;(i||n)&&(i=i||[],n=n||[],Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]),i=i.filter(s),n=n.filter(s),e.class=i.concat(n).join(" "));for(var r in t)"class"!=r&&(e[r]=t[r]);return e},t.attrs=function(e,i){var s=[],n=e.terse;delete e.terse;var r=Object.keys(e),a=r.length;if(a){s.push("");for(var o=0;o<a;++o){var h=r[o],c=e[h];"boolean"==typeof c||null==c?c&&(n?s.push(h):s.push(h+'="'+h+'"')):0==h.indexOf("data")&&"string"!=typeof c?s.push(h+"='"+JSON.stringify(c)+"'"):"class"==h&&Array.isArray(c)?s.push(h+'="'+t.escape(c.join(" "))+'"'):i&&i[h]?s.push(h+'="'+t.escape(c)+'"'):s.push(h+'="'+c+'"')}}return s.join(" ")},t.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.rethrow=function(e,t,s){if(!t)throw e;var n=3,r=i("fs").readFileSync(t,"utf8").split("\n"),a=Math.max(s-n,0),o=Math.min(r.length,s+n),n=r.slice(a,o).map(function(e,t){var i=t+a+1;return(i==s?"  > ":"    ")+i+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+s+"\n"+n+"\n\n"+e.message,e}}),require.register("self-closing.js",function(e,t,i){e.exports=["meta","img","link","input","source","area","base","col","br","hr"]}),require.register("utils.js",function(e,t,i){var s=t.interpolate=function(e){return e.replace(/(_SLASH_)?([#!]){(.*?)}/g,function(e,t,i,s){return s=s.replace(/\\'/g,"'").replace(/_SLASH_/g,"\\"),t?e.slice(7):"' + "+("!"==i?"":"escape")+"((interp = "+s+") == null ? '' : interp) + '"})},n=t.escape=function(e){return e.replace(/'/g,"\\'")};t.text=function(e){return s(n(e))},t.merge=function(e,t){for(var i in t)e[i]=t[i];return e}}),window.jade=require("jade")}();