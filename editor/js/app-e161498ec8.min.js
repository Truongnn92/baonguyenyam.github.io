/*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*/"use strict";function save(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),a=document.getElementById("getval").value;if("text/html"===a)i="index.html";else if("sass"===a)i="main.sass";else if("scss"===a)i="main.scss";else if("css"===a)i="main.css";else if("javascript"===a)i="main.js";else if("pug"===a)i="index.pug";else if("markdown"===a)i="index.md";else var i="text.txt";saveAs(t,i)}function saveC(e){if("text/html"===e||"pug"===e||"markdown"===e)t=document.getElementById("preview").contentWindow.document.body.innerHTML;else{var t=$("#getval2").val();console.log(t)}var a=new Blob([t],{type:"text/plain;charset=utf-8"}),i=document.getElementById("getval").value;if("text/html"===i)n="index.html";else if("sass"===i)n="main.css";else if("scss"===i)n="main.css";else if("css"===i)n="main.css";else if("javascript"===i)n="main.js";else if("pug"===i)n="index.html";else if("markdown"===i)n="index.html";else var n="text.txt";saveAs(a,n)}function changeEventHandler(e){var t=e.value.split(";");document.getElementById("getval").value=t[1];var a=new XMLHttpRequest;a.open("GET","./example/"+t[0]+".txt",!1),a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0==a.status)){var e=a.responseText,i=t[1];"scss"===i&&(i="sass"),updateEditor(e,i),setTimeout(updatePreview(i),300)}},a.send(null)}function changeEventHandler2(e){var t=e.split(";");document.getElementById("getval").value=t[1];var a=new XMLHttpRequest;a.open("GET","./labs/"+t[0]+".txt",!1),a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0==a.status)){var e=a.responseText,i=t[1];"scss"===i&&(i="sass"),updateEditor(e,i),setTimeout(updatePreview(i),300)}},a.send(null)}function updateEditor(e,t){document.getElementById("code").value=e,editor.setValue(e),editor.setOption("mode",t)}function updatePreview(e){var t=editor.getValue(),a=document.getElementById("preview");if("text/html"===e||"pug"===e||"markdown"===e)$("#preview2").hide(),$("#preview").show(),(i=a.contentDocument||a.contentWindow.document).open();else{var i=document.getElementById("preview2");$("#preview").hide(),$("#preview2").show(),i.innerHTML=null}if("text/html"===e)i.write(t);else if("sass"===e||"scss"===e)t&&new Sass("./editor/sass/sass.worker.js").compile(t,{indentedSyntax:!1,style:Sass.style.expanded,indent:"  ",linefeed:"\n"},function(e){$("#getval2").val(e.text),CodeMirror(i,{value:e.text,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0})});else if("css"===e)$("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("javascript"===e)$("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"javascript",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("markdown"===e){var n=t,s=(new showdown.Converter).makeHtml(n);i.write(s)}else"pug"===e?(t=s=require("pug").compile(t)(),i.write(s)):($("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"text",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0}));if(t.indexOf("<title>")>0)l=t.match(/<title>(.*?)<\/title>/g).map(function(e){return e.replace(/<\/?title>/g,"")});else if(e)l="Compile";else var l="Text";document.getElementById("bar").innerHTML=l,"text/html"!==e&&"pug"!==e&&"markdown"!==e||i.close()}function getDataDemo(e){e.indexOf(";")>0&&changeEventHandler2(e)}function toggleMenu(){$(".menuto").toggleClass("active")}var DOMAIN_URL="http://domain.com",delay,map=CodeMirror.keyMap.sublime,editor=CodeMirror.fromTextArea(document.getElementById("code"),{tabMode:"indent",keyMap:"sublime",lineNumbers:!0,theme:"monokai",tabSize:4,indentWithTabs:!0,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,scrollbarStyle:"simple",styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],onChange:function(){clearTimeout(delay),delay=setTimeout(updatePreview(null),300)},onCursorActivity:function(){editor.matchHighlight("CodeMirror-matchhighlight")},wordWrap:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},"Ctrl-Space":"autocomplete",F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}});setTimeout(updatePreview(null),300),$(function(){$(".treeview").jstree({core:{data:[{text:"FPT-HTML",state:{opened:!0},children:[{id:1,text:"Lab-01",state:{opened:!1},children:[{id:67,text:"img",state:{opened:!1},children:[{id:68,text:"logo-slack.svg",state:{selected:!1},icon:"fa fa-file-image-o"}]},{id:"lab-01/01-1-html-basic;text/html",text:"01-1-html-basic.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-2-html-basic_img;text/html",text:"01-2-html-img.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-3-html-basic_img_customize;text/html",text:"01-3-html-img.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-4-html-basic_align;text/html",text:"01-4-html-align.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-5-html-basic-text;text/html",text:"01-5-html-text.html",state:{selected:!1},icon:"fa fa-file-o"}]},{id:2,text:"Lab-02",state:{opened:!1},children:[{id:"lab-02/baitho;text/html",text:"baitho.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-02/baitoan;text/html",text:"baitoan.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-02/index;text/html",text:"index.html",state:{selected:!1},icon:"fa fa-file-o"}]}]}]}}).on("changed.jstree",function(e,t){getDataDemo(t.node.id)})});