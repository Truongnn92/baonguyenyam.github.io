/*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*/"use strict";function save(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),n=document.getElementById("getval").value;if("text/html"===n)i="index.html";else if("sass"===n)i="main.sass";else if("scss"===n)i="main.scss";else if("css"===n)i="main.css";else if("javascript"===n)i="main.js";else if("pug"===n)i="index.pug";else if("markdown"===n)i="index.md";else var i="text.txt";saveAs(t,i)}function saveC(e){if("text/html"===e||"pug"===e||"markdown"===e)t=document.getElementById("preview").contentWindow.document.body.innerHTML;else{var t=$("#getval2").val();console.log(t)}var n=new Blob([t],{type:"text/plain;charset=utf-8"}),i=document.getElementById("getval").value;if("text/html"===i)s="index.html";else if("sass"===i)s="main.css";else if("scss"===i)s="main.css";else if("css"===i)s="main.css";else if("javascript"===i)s="main.js";else if("pug"===i)s="index.html";else if("markdown"===i)s="index.html";else var s="text.txt";saveAs(n,s)}function changeEventHandler(e){var t=e.value.split(";");document.getElementById("getval").value=t[1];var n=new XMLHttpRequest;n.open("GET","./example/"+t[0]+".txt",!1),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||0==n.status)){var e=n.responseText,i=t[1];"scss"===i&&(i="sass"),updateEditor(e,i),setTimeout(updatePreview(i),300)}},n.send(null)}function updateEditor(e,t){document.getElementById("code").value=e,editor.setValue(e),editor.setOption("mode",t)}function updatePreview(e){var t=editor.getValue(),n=document.getElementById("preview");if("text/html"===e||"pug"===e||"markdown"===e)$("#preview2").hide(),$("#preview").show(),(i=n.contentDocument||n.contentWindow.document).open();else{var i=document.getElementById("preview2");$("#preview").hide(),$("#preview2").show(),i.innerHTML=null}if("text/html"===e)i.write(t);else if("sass"===e||"scss"===e)t&&new Sass("./editor/sass/sass.worker.js").compile(t,{indentedSyntax:!1,style:Sass.style.expanded,indent:"  ",linefeed:"\n"},function(e){$("#getval2").val(e.text),CodeMirror(i,{value:e.text,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0})});else if("css"===e)$("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("javascript"===e)$("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"javascript",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("markdown"===e){var s=t,a=(new showdown.Converter).makeHtml(s);i.write(a)}else"pug"===e?(t=a=require("pug").compile(t)(),i.write(a)):($("#getval2").val(t),CodeMirror(i,{value:t,tabMode:"indent",mode:"text",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0}));if(t.indexOf("<title>")>0)r=t.match(/<title>(.*?)<\/title>/g).map(function(e){return e.replace(/<\/?title>/g,"")});else if(e)r="Compile";else var r="Text";document.getElementById("bar").innerHTML=r,"text/html"!==e&&"pug"!==e&&"markdown"!==e||i.close()}var DOMAIN_URL="http://domain.com",delay,map=CodeMirror.keyMap.sublime,editor=CodeMirror.fromTextArea(document.getElementById("code"),{tabMode:"indent",keyMap:"sublime",lineNumbers:!0,theme:"monokai",tabSize:4,indentWithTabs:!0,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,scrollbarStyle:"simple",styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],onChange:function(){clearTimeout(delay),delay=setTimeout(updatePreview(null),300)},onCursorActivity:function(){editor.matchHighlight("CodeMirror-matchhighlight")},wordWrap:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},"Ctrl-Space":"autocomplete",F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}});setTimeout(updatePreview(null),300);