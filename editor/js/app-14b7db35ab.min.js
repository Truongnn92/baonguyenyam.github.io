/*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*/"use strict";function save(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),s=document.getElementById("getval").value;if("text/html"===s)i="index.html";else if("sass"===s)i="main.sass";else if("scss"===s)i="main.scss";else if("css"===s)i="main.css";else if("javascript"===s)i="main.js";else if("pug"===s)i="index.pug";else if("markdown"===s)i="index.md";else var i="text.txt";saveAs(t,i)}function saveC(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),s=document.getElementById("getval").value;if("text/html"===s)i="index.html";else if("sass"===s)i="main.css";else if("scss"===s)i="main.css";else if("css"===s)i="main.css";else if("javascript"===s)i="main.js";else if("pug"===s)i="index.html";else if("markdown"===s)i="index.html";else var i="text.txt";saveAs(t,i)}function changeEventHandler(e){var t=e.value.split(";");document.getElementById("getval").value=t[1];var s=new XMLHttpRequest;s.open("GET","./example/"+t[0]+".txt",!1),s.onreadystatechange=function(){if(4===s.readyState&&(200===s.status||0==s.status)){var e=s.responseText,i=t[1];"scss"===i&&(i="sass"),updateEditor(e,i),setTimeout(updatePreview(i),300)}},s.send(null)}function updateEditor(e,t){document.getElementById("code").value=e,editor.setValue(e),editor.setOption("mode",t)}function updatePreview(e){var t=editor.getValue(),s=document.getElementById("preview");if("text/html"===e||"pug"===e||"markdown"===e)$("#preview2").hide(),$("#preview").show(),(i=s.contentDocument||s.contentWindow.document).open();else{var i=document.getElementById("preview2");$("#preview").hide(),$("#preview2").show(),i.innerHTML=null}if("text/html"===e)i.write(t);else if("sass"===e||"scss"===e)t&&new Sass("./editor/sass/sass.worker.js").compile(t,{indentedSyntax:!1,style:Sass.style.expanded,indent:"  ",linefeed:"\n"},function(e){CodeMirror(i,{value:e.text,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0})});else if("css"===e)CodeMirror(i,{value:t,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("javascript"===e)CodeMirror(i,{value:t,tabMode:"indent",mode:"javascript",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("markdown"===e){var n=t,r=(new showdown.Converter).makeHtml(n);i.write(r)}else"pug"===e?(t=r=require("pug").compile(t)(),i.write(r)):CodeMirror(i,{value:t,tabMode:"indent",mode:"text",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});if(t.indexOf("<title>")>0)a=t.match(/<title>(.*?)<\/title>/g).map(function(e){return e.replace(/<\/?title>/g,"")});else if(e)a="Compile";else var a="Text";document.getElementById("bar").innerHTML=a,"text/html"!==e&&"pug"!==e&&"markdown"!==e||i.close()}var DOMAIN_URL="http://domain.com",delay,map=CodeMirror.keyMap.sublime,editor=CodeMirror.fromTextArea(document.getElementById("code"),{tabMode:"indent",keyMap:"sublime",lineNumbers:!0,theme:"monokai",tabSize:4,indentWithTabs:!0,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,scrollbarStyle:"simple",styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],onChange:function(){clearTimeout(delay),delay=setTimeout(updatePreview(null),300)},onCursorActivity:function(){editor.matchHighlight("CodeMirror-matchhighlight")},wordWrap:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},"Ctrl-Space":"autocomplete",F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}});setTimeout(updatePreview(null),300);