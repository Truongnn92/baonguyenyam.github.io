/*
 ////////////////////////////////////////////////////////
 // Bao Nguyen Apps
 // @version v1.0
 // @link https://baonguyenyam.github.io
 // @license MIT
 // @Coding by Bao Nguyen - 0969689893 - 0933112900
 // @baonguyenyam@gmail.com
 ////////////////////////////////////////////////////////
*/"use strict";function save(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),a=document.getElementById("getval").value;if("text/html"===a)l="index.html";else if("sass"===a)l="main.sass";else if("scss"===a)l="main.scss";else if("css"===a)l="main.css";else if("javascript"===a)l="main.js";else if("pug"===a)l="index.pug";else if("markdown"===a)l="index.md";else var l="text.txt";saveAs(t,l)}function saveC(e){if("text/html"===e||"pug"===e||"markdown"===e)t=document.getElementById("preview").contentWindow.document.body.innerHTML;else{var t=$("#getval2").val();console.log(t)}var a=new Blob([t],{type:"text/plain;charset=utf-8"}),l=document.getElementById("getval").value;if("text/html"===l)i="index.html";else if("sass"===l)i="main.css";else if("scss"===l)i="main.css";else if("css"===l)i="main.css";else if("javascript"===l)i="main.js";else if("pug"===l)i="index.html";else if("markdown"===l)i="index.html";else var i="text.txt";saveAs(a,i)}function changeEventHandler(e){var t=e.value.split(";");document.getElementById("getval").value=t[1];var a=new XMLHttpRequest;a.open("GET","./example/"+t[0]+".txt",!1),a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0==a.status)){var e=a.responseText,l=t[1];"scss"===l&&(l="sass"),updateEditor(e,l),setTimeout(updatePreview(l),300)}},a.send(null)}function getf(e,t){var a=new XMLHttpRequest;a.open("GET","./labs/"+e+".txt",!1),a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0==a.status)){var e=a.responseText,l=t;"scss"===l&&(l="sass"),updateEditor(e,l),setTimeout(updatePreview(l),300)}},a.send(null)}function changeEventHandler2(e){var t=e.split(";");if(t[3]){if($("#youpath").val().length<=0){$("#youpath").val().split(";");document.getElementById("getval").value=t[3],getf(t[2],t[3])}setTimeout(function(){document.getElementById("getval").value=t[1],getf(t[0],t[1])},1)}else document.getElementById("getval").value=t[1],getf(t[0],t[1])}function updateEditor(e,t){document.getElementById("code").value=e,editor.setValue(e),editor.setOption("mode",t)}function updatePreview(e){var t=editor.getValue(),a=document.getElementById("preview");if("text/html"===e||"pug"===e||"markdown"===e)$("#preview2").hide(),$("#preview").show(),(l=a.contentDocument||a.contentWindow.document).open();else{var l=document.getElementById("preview2");$("#preview").hide(),$("#preview2").show(),l.innerHTML=null}if("text/html"===e){for(var i,s=[],n=/<link [^>]*href="([^"]*)"[^>]*>/gm;i=n.exec(t);)s.push(i[1]);var o=t.replace(/<link\b[^>]*>/i,"");l.write(o),s.length>0&&setTimeout(function(){$("#preview").contents().find("head").append('<style type="text/css">'+$("#youcode").val()+"</style>")},1)}else if("sass"===e||"scss"===e)t&&new Sass("./editor/sass/sass.worker.js").compile(t,{indentedSyntax:!1,style:Sass.style.expanded,indent:"  ",linefeed:"\n"},function(e){$("#getval2").val(e.text),CodeMirror(l,{value:e.text,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0})});else if("css"===e)$("#getval2").val(t),$("#youpath").val().length,$("#youcode").val(t),CodeMirror(l,{value:t,tabMode:"indent",mode:"css",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("javascript"===e)$("#getval2").val(t),CodeMirror(l,{value:t,tabMode:"indent",mode:"javascript",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0});else if("markdown"===e){var d=t,c=(new showdown.Converter).makeHtml(d);l.write(c)}else"pug"===e?(t=c=require("pug").compile(t)(),l.write(c)):($("#getval2").val(t),CodeMirror(l,{value:t,tabMode:"indent",mode:"text",lineNumbers:!0,tabSize:4,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,wordWrap:!0}));if(t.indexOf("<title>")>0)r=t.match(/<title>(.*?)<\/title>/g).map(function(e){return e.replace(/<\/?title>/g,"")});else if(e)r="Compile";else var r="Text";document.getElementById("bar").innerHTML=r,"text/html"!==e&&"pug"!==e&&"markdown"!==e||l.close()}function getDataDemo(e,t){if(e.indexOf(";text/html")>0)changeEventHandler2(e);else if(e.indexOf("http")>-1||e.indexOf(".zip")>-1)window.open(e,"_blank");else if(e.indexOf(".svg")>-1)(a=new XMLHttpRequest).open("GET",e,!0),a.responseType="blob",a.onload=function(e){download(a.response,t,"image/svg")},a.send();else if(e.indexOf(".png")>-1)(a=new XMLHttpRequest).open("GET",e,!0),a.responseType="blob",a.onload=function(e){download(a.response,t,"image/png")},a.send();else if(e.indexOf(".jpg")>-1){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(e){download(a.response,t,"image/jpg")},a.send()}else e.indexOf(";css")>-1&&($("#youpath").val(e),changeEventHandler2(e))}function toggleMenu(){$(".menuto").toggleClass("active")}var DOMAIN_URL="http://domain.com",delay,map=CodeMirror.keyMap.sublime,editor=CodeMirror.fromTextArea(document.getElementById("code"),{tabMode:"indent",keyMap:"sublime",lineNumbers:!0,theme:"monokai",tabSize:4,indentWithTabs:!0,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,showCursorWhenSelecting:!0,scrollbarStyle:"simple",styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],onChange:function(){clearTimeout(delay),delay=setTimeout(updatePreview(null),300)},onCursorActivity:function(){editor.matchHighlight("CodeMirror-matchhighlight")},wordWrap:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},"Ctrl-Space":"autocomplete",F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}});setTimeout(updatePreview(null),300),$(function(){$(".treeview").jstree({core:{data:[{text:"FPT-HTML",state:{opened:!0},children:[{id:1,text:"Lab-01",state:{opened:!1},children:[{id:67,text:"img",state:{opened:!1},children:[{id:"./img/logo-slack.svg",text:"logo-slack.svg",state:{selected:!1},icon:"fa fa-file-image-o"}]},{id:"lab-01/01-1-html-basic;text/html",text:"01-1-html-basic.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-2-html-basic_img;text/html",text:"01-2-html-img.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-3-html-basic_img_customize;text/html",text:"01-3-html-img.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-4-html-basic_align;text/html",text:"01-4-html-align.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-01/01-5-html-basic-text;text/html",text:"01-5-html-text.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"/labs/lab-01/source.zip",text:"Tải source",state:{selected:!1},icon:"fa fa-download"},{id:"https://baonguyenyam.github.io/fpt/docs/html-css/html/tag.html",text:"Tài liệu liên quan",state:{selected:!1},icon:"fa fa-external-link"}]},{id:2,text:"Lab-02",state:{opened:!1},children:[{id:68,text:"dulieu",state:{opened:!1},children:[{id:"lab-02/dulieu/bang;text/html",text:"bang.html",state:{selected:!1},icon:"fa fa-file-o"}]},{id:69,text:"img",state:{opened:!1},children:[{id:"./img/logo.png",text:"logo.png",state:{selected:!1},icon:"fa fa-file-image-o"}]},{id:"lab-02/baitho;text/html",text:"baitho.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-02/baitoan;text/html",text:"baitoan.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-02/index;text/html",text:"index.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"/labs/lab-02/source.zip",text:"Tải source",state:{selected:!1},icon:"fa fa-download"},{id:"https://baonguyenyam.github.io/fpt/docs/html-css/css/colors.html",text:"Tài liệu liên quan",state:{selected:!1},icon:"fa fa-external-link"}]},{id:3,text:"Lab-03",state:{opened:!1},children:[{id:70,text:"css",state:{opened:!1},children:[{id:"lab-03/css/style;css",text:"style.css",state:{selected:!1},icon:"fa fa-file-o"}]},{id:71,text:"img",state:{opened:!1},children:[{id:"./img/girl.jpg",text:"girl.jpg",state:{selected:!1},icon:"fa fa-file-image-o"}]},{id:"lab-03/danba;text/html",text:"danba.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-03/danba-style;text/html",text:"danba-style.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-03/danba-css;text/html;lab-03/css/style;css",text:"danba-css.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"/labs/lab-03/source.zip",text:"Tải source",state:{selected:!1},icon:"fa fa-download"},{id:"https://baonguyenyam.github.io/fpt/docs/html-css/html/style.html",text:"Tài liệu liên quan",state:{selected:!1},icon:"fa fa-external-link"}]},{id:4,text:"Lab-04",state:{opened:!1},children:[{id:72,text:"css",state:{opened:!1},children:[{id:"lab-04/css/style;css",text:"style.css",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-04/css/style-full;css",text:"style-full.css",state:{selected:!1},icon:"fa fa-file-o"}]},{id:73,text:"img",state:{opened:!1},children:[{id:"./img/logo-cafe.png",text:"logo-cafe.png",state:{selected:!1},icon:"fa fa-file-image-o"},{id:"./img/cup.png",text:"cup.png",state:{selected:!1},icon:"fa fa-file-image-o"},{id:"./img/img_01.png",text:"img_01.png",state:{selected:!1},icon:"fa fa-file-image-o"},{id:"./img/img_02.png",text:"img_02.png",state:{selected:!1},icon:"fa fa-file-image-o"}]},{id:"lab-04/coffee;text/html",text:"coffee.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-04/coffee-01-add-basic;text/html;lab-04/css/style;css",text:"coffee-01-add-basic.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-04/coffee-02-0-add-style;text/html",text:"coffee-02-0-add-style.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-04/coffee-02-1-add-style;text/html",text:"coffee-02-1-add-style.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"lab-04/coffee-03-add-full;text/html;lab-04/css/style-full;css",text:"coffee-03-add-full.html",state:{selected:!1},icon:"fa fa-file-o"},{id:"/labs/lab-04/source.zip",text:"Tải source",state:{selected:!1},icon:"fa fa-download"},{id:"http://baonguyenyam.github.io/fpt/docs/html-css/typography/",text:"Tài liệu liên quan",state:{selected:!1},icon:"fa fa-external-link"}]}]}]}}).on("changed.jstree",function(e,t){getDataDemo(t.node.id,t.node.text)})});